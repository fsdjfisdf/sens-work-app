/* ==========================================================================
   S-WORKS — index.css (Light • Strict 4×3 Launcher • Rich Micro-interactions)
   Version: 2025-08-22
   Notes:
   - 데스크톱(≥980px)에서 4열 고정, 12개 버튼 → 4×3 그리드
   - Hover/Focus micro animations (GPU-friendly: transform/opacity only)
   - 접근성: focus-visible 링, reduced motion 지원
   - 성능: composite-only transition, will-change, 낮은 box-shadow 비용
   ========================================================================== */

/* ---------- Design Tokens ------------------------------------------------ */
:root{
  /* Surfaces */
  --bg:#ffffff;             /* 최상위 배경 */
  --layer:#f6f8fc;          /* 얕은 구름 배경 */
  --panel:#ffffff;          /* 버튼/패널 표면 */

  /* Text */
  --text:#0e1726;
  --muted:#5b6b80;

  /* Brand / Accent */
  --accent:#2563eb;                /* S-WORKS 파랑 */
  --accent-weak: rgba(37,99,235,.12);
  --accent-weak-2: rgba(37,99,235,.08);

  /* Lines & Shadows */
  --hairline:#e8edf5;
  --hairline-2:#e3eaf4;
  --shadow-xs: 0 1px 1px rgba(8,15,30,.05);
  --shadow-sm: 0 6px 16px rgba(8,15,30,.08);
  --shadow:    0 18px 40px rgba(8,15,30,.10);

  /* Shape */
  --radius:16px; --r-md:14px; --r-sm:12px;
  --gutter:18px;

  /* Launcher Buttons */
  --btn-h:60px;
  --btn-fs:15px;
  --ico:18px;

  /* Title */
  --title-size: clamp(42px, 9vw, 104px);

  /* Motion */
  --ease: cubic-bezier(.22,.63,.23,.99);
  --ease-out: cubic-bezier(.17,.67,.25,1);
  --dur-in: .26s;
  --dur-hvr: .16s;

  /* Gradient Accents (for sheens) */
  --sheen: linear-gradient(100deg, rgba(255,255,255,.0) 0%, rgba(255,255,255,.55) 20%, rgba(255,255,255,.0) 40%) no-repeat;

  /* Safe area */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bot: env(safe-area-inset-bottom, 0px);
}

/* ---------- Base / Resets ----------------------------------------------- */
*,
*::before,
*::after{ box-sizing: border-box; }

html, body{ height:100%; }

body{
  margin:0; color:var(--text);
  font-family: Inter, Pretendard, system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans KR', Arial, sans-serif;
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;

  /* 차분한 라이트 아트 배경 */
  background:
    radial-gradient(1200px 480px at 80% -10%, #eef4ff, transparent 70%),
    radial-gradient(1000px 420px at -10% 18%, #f3f7ff, transparent 70%),
    linear-gradient(180deg, #fff 0%, var(--layer) 32%, #fff 100%);
}

::selection{ background: rgba(37,99,235,.18); color:#0b1220; }
a{ color:inherit; text-decoration:none; }

.hidden{ display:none !important; }
.visible{ display:block !important; }

.inner{ max-width:1240px; margin:0 auto; padding:0 16px; }

/* 접근성 포커스 링 (마우스/터치 제외) */
:where(a,button):focus-visible{
  outline:0;
  box-shadow:
    0 0 0 2px rgba(37,99,235,.9),
    0 0 0 8px rgba(37,99,235,.22);
  border-color: rgba(37,99,235,.7) !important;
  transition: box-shadow .18s var(--ease);
}

/* ---------- Navigation --------------------------------------------------- */
nav{
  position: sticky; top: 0; z-index: 1000;
  background: #fff;
  border-bottom: 1px solid var(--hairline);
  box-shadow: var(--shadow-xs);
  backdrop-filter: saturate(112%) blur(0px);
}
@supports (backdrop-filter: blur(6px)){
  nav{ backdrop-filter: blur(6px) saturate(116%); }
}

.nav-container{
  min-height: calc(56px + var(--safe-top));
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
  padding-top: var(--safe-top);
}

.nav-title a{
  color:#0b1220; font-weight:900; font-size:18px; letter-spacing:.2px;
  padding:8px 12px; border-radius:12px;
  border:1px solid var(--hairline);
  background: linear-gradient(180deg, #fff, rgba(255,255,255,.72));
  box-shadow: inset 0 1px 0 rgba(255,255,255,.9), var(--shadow-xs);
  transition: transform var(--dur-hvr) ease, color .18s, border-color .18s, box-shadow .18s;
  will-change: transform;
}
.nav-title a:hover{
  transform: translateY(-1px);
  color: var(--accent);
  border-color: color-mix(in srgb, var(--accent) 45%, var(--hairline));
  box-shadow: inset 0 1px 0 rgba(255,255,255,.98), 0 4px 10px rgba(8,15,30,.06);
}

.auth-container{ display:flex; gap:10px; }
.sign-link{
  display:inline-flex; align-items:center; justify-content:center;
  height:38px; padding:0 14px; font-size:13px; border-radius:12px; cursor:pointer;
  color:#0b1220; background:#fff; border:1px solid var(--hairline);
  box-shadow: inset 0 1px 0 #fff, var(--shadow-xs);
  transition: transform var(--dur-hvr) ease, border-color .18s, background .18s, box-shadow .18s;
  will-change: transform;
}
.sign-link:hover{
  transform: translateY(-1px);
  border-color: var(--accent);
  box-shadow: inset 0 1px 0 #fff, 0 8px 16px rgba(8,15,30,.06);
}

/* ---------- Hero --------------------------------------------------------- */
main{ padding: 26px 0 calc(44px + var(--safe-bot)); }
.hero{
  min-height: calc(100vh - 64px);
  display: grid; place-items: center; position: relative; isolation: isolate;
}

.hero::before{
  content:""; position:absolute; inset:0; pointer-events:none; z-index:0;
  background:
    repeating-linear-gradient(90deg, rgba(7,18,34,.035), rgba(7,18,34,.035) 1px, transparent 1px, transparent 32px),
    repeating-linear-gradient(0deg, rgba(7,18,34,.03), rgba(7,18,34,.03) 1px, transparent 1px, transparent 32px);
  mask-image: radial-gradient(1100px 680px at 50% 8%, #000 40%, transparent 75%);
  opacity:.35;
}

.hero-content{
  text-align:center; position:relative; z-index:1;
  padding-block: 6px;
}

.main-title{
  margin: 10px 0 8px;
  font-size: var(--title-size);
  font-weight:1000; letter-spacing:-.02em; line-height:.96; user-select:none;
  color:#0b1220;
  text-shadow: 0 1px 0 rgba(255,255,255,.85), 0 18px 36px rgba(7,18,34,.10);
  transition: transform .32s var(--ease), letter-spacing .25s ease, filter .25s ease;
  will-change: transform;
}
@media (hover:hover){
  .main-title:hover{ transform: translateY(-2px) scale(1.01); letter-spacing:-.018em; }
}
.main-title.move-up{ transform: translateY(-34px); }
.main-title.shrink{ transform: translateY(-34px) scale(.78); }

.click-hint{
  color:var(--muted); font-size:14px; letter-spacing:.22px; margin-top:8px;
}

/* ---------- Launcher Grid (Strict) -------------------------------------- */
.button-container{
  margin: 26px auto 0;
  display: grid; gap: var(--gutter);
  grid-template-columns: repeat(4, minmax(200px, 1fr)); /* 데스크톱 4열 고정 */
  max-width:1240px;
  transition: opacity var(--dur-in) ease, transform var(--dur-in) ease;
  will-change: opacity, transform;
}
.button-container.hidden{ opacity:0; transform: translateY(8px); }
.button-container.visible{ opacity:1; transform:none; }

/* 4 → 3 → 2 → 1 열 */
@media (max-width: 980px){
  .button-container{ grid-template-columns: repeat(3, minmax(200px, 1fr)); }
}
@media (max-width: 740px){
  .button-container{ grid-template-columns: repeat(2, minmax(180px, 1fr)); }
}
@media (max-width: 480px){
  .button-container{ grid-template-columns: 1fr; }
}

/* ---------- App Buttons (Cards) ----------------------------------------- */
.button{
  position: relative; overflow: hidden;
  display:flex; align-items:center; justify-content:center; gap:12px;
  height: var(--btn-h); padding: 0 18px;
  border-radius: var(--r-md);
  font-weight:900; font-size: var(--btn-fs); letter-spacing:.22px;
  color:#0b1220; background:var(--panel);
  border:1px solid var(--hairline);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.92),
    0 10px 18px rgba(7,18,34,.06),
    0 22px 44px rgba(7,18,34,.08);
  transition:
    transform var(--dur-in) var(--ease),
    box-shadow .18s ease,
    border-color .18s ease,
    background .18s ease,
    filter .18s ease;
  will-change: transform;
  -webkit-tap-highlight-color: transparent;
}

.button .ico{
  width: var(--ico); height: var(--ico);
  fill: currentColor; opacity:.96; flex: none;
  transform: translateZ(0);
}

/* 상단 라이트 라인 */
.button::after{
  content:""; position:absolute; left:10%; right:10%; top:10px; height:1px; pointer-events:none;
  background: linear-gradient(90deg, rgba(255,255,255,.7), rgba(255,255,255,0));
  opacity:.22;
}

/* 글레이어(광택) */
.button::before{
  content:""; position:absolute; inset:-8px; transform: translateX(-120%);
  background: var(--sheen);
  transition: transform .6s var(--ease);
  will-change: transform;
}

/* Hover / Active */
@media (hover:hover){
  .button:hover{
    transform: translateY(-3px);
    border-color: color-mix(in srgb, var(--accent) 40%, var(--hairline));
    box-shadow:
      inset 0 1px 0 rgba(255,255,255,.98),
      0 14px 26px rgba(7,18,34,.08),
      0 34px 66px rgba(7,18,34,.10);
  }
  .button:hover::before{ transform: translateX(120%); }
}
.button:active{ transform: translateY(-1px) scale(.996); }

/* Focus ring shadow boost */
.button:focus-visible{
  box-shadow:
    0 0 0 2px rgba(37,99,235,.85),
    0 0 0 8px rgba(37,99,235,.20),
    0 14px 26px rgba(7,18,34,.08);
}

/* Disabled(런처 열리기 전) */
.button.disabled{
  pointer-events:none;
  color: color-mix(in srgb, #0b1220 60%, #9fb1c9);
  border-color: var(--hairline);
  filter: grayscale(.12) brightness(.96);
}

/* Clicked feedback (JS에서 .clicked 부여 후 200ms 내 이동) */
.button.clicked{
  animation: btn-click .22s var(--ease-out) both;
}
@keyframes btn-click{
  0%   { transform: translateY(-2px) scale(1.00); box-shadow: 0 10px 20px rgba(7,18,34,.06); }
  60%  { transform: translateY(-3px) scale(1.02); box-shadow: 0 22px 50px rgba(7,18,34,.12); }
  100% { transform: translateY(-2px) scale(1.00); }
}

/* ------- Staggered Reveal (가볍고 짧음) --------------------------------- */
@keyframes menu-in{
  from{ opacity:0; transform: translateY(10px) scale(.98); }
  to{   opacity:1; transform: none; }
}
.button-container.visible .button{ animation: menu-in var(--dur-in) var(--ease) both; }
.button-container.visible .button:nth-child(1)  { animation-delay:   0ms; }
.button-container.visible .button:nth-child(2)  { animation-delay:  30ms; }
.button-container.visible .button:nth-child(3)  { animation-delay:  60ms; }
.button-container.visible .button:nth-child(4)  { animation-delay:  90ms; }
.button-container.visible .button:nth-child(5)  { animation-delay: 120ms; }
.button-container.visible .button:nth-child(6)  { animation-delay: 150ms; }
.button-container.visible .button:nth-child(7)  { animation-delay: 180ms; }
.button-container.visible .button:nth-child(8)  { animation-delay: 210ms; }
.button-container.visible .button:nth-child(9)  { animation-delay: 240ms; }
.button-container.visible .button:nth-child(10) { animation-delay: 270ms; }
.button-container.visible .button:nth-child(11) { animation-delay: 300ms; }
.button-container.visible .button:nth-child(12) { animation-delay: 330ms; }

/* ------- Group hover: 은은한 하이라이트 링 ------------------------------ */
@media (hover:hover){
  .button-container:has(.button:hover){
    filter: saturate(1.02);
  }
}

/* ---------- Footer ------------------------------------------------------- */
footer{
  color: #7a8aa2; text-align:center;
  padding: 36px 0 calc(54px + var(--safe-bot));
  border-top: 1px solid var(--hairline);
  background: linear-gradient(180deg, #fff, var(--layer));
}
footer p{ margin:8px 2px 0; font-size:12.5px; letter-spacing:.22px; }

/* ---------- Admin-only visibility (safety) ------------------------------- */
.admin-only{ /* JS가 숨김 처리하지만 FOUC 예방용 */ }
.admin-only[style*="display: none"]{ display:none !important; }

/* ---------- Dark Mode Fallback (OS) ------------------------------------- */
/* 라이트 선호이므로 다크는 낮은 대비로만 지원(선택) */
@media (prefers-color-scheme: dark){
  :root{
    --bg:#0c1118; --layer:#0e141d; --panel:#0f1720;
    --text:#e8edf5; --muted:#a7b4c7;
    --hairline:#1b2533; --hairline-2:#1e2a3a;
    --shadow-xs: 0 1px 1px rgba(0,0,0,.18);
    --shadow-sm: 0 6px 16px rgba(0,0,0,.26);
    --shadow:    0 18px 40px rgba(0,0,0,.34);
  }
  body{
    background:
      radial-gradient(1000px 420px at 80% -10%, #0f1a2a, transparent 70%),
      radial-gradient(800px 360px at -10% 18%, #0d1726, transparent 70%),
      linear-gradient(180deg, #0b1118 0%, #0e141d 32%, #0b1118 100%);
  }
  nav, .sign-link, .nav-title a, .button, footer{ background: var(--panel); color: var(--text); }
}

/* ---------- Reduced Motion ---------------------------------------------- */
@media (prefers-reduced-motion: reduce){
  *{
    animation-duration:.001ms !important;
    animation-iteration-count:1 !important;
    transition-duration:.001ms !important;
    scroll-behavior:auto !important;
  }
}

/* ---------- Print -------------------------------------------------------- */
@media print{
  nav, .click-hint{ display:none !important; }
  body{ background:#fff; color:#000; }
  .button{ box-shadow:none; border-color:#cfd8e3; }
}
