<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>S-WORKS ¬∑ Equipment</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- ÏÑ§ÎπÑ Ï†ÑÏö© CSS -->
  <link rel="stylesheet" href="./css/equipment_signal2.css" />


  <link rel="stylesheet" href="./css/user_info.css" />

</head>
<body>
  <!-- üîπ ÏÉÅÎã® ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò (ÎÑ§Í∞Ä Ï§Ä Íµ¨Ï°∞ Í∑∏ÎåÄÎ°ú) -->
  <nav>
    <div class="inner">
      <div class="nav-container">
        <h1 class="nav-title"><a href="./index.html">S-WORKS</a></h1>
        <div class="sign-container unsigned">
          <a href="./signin.html" class="sign-link">Login</a>
        </div>
        <div class="sign-container signed hidden">
          <button class="menu-btn">
            <div class="menu-icon">
              <span></span>
              <span></span>
              <span></span>
            </div>
          </button>
        </div>
      </div>
    </div>
    <div class="menu-bar">
      <div class="menu-bar-content">
        <a href="./user_info.html" class="menu-item">SECM</a>
        <a href="./worklog.html" class="menu-item">Create Worklog</a>
        <a href="./approval.html" class="menu-item">Worklog Approval</a>
        <a href="./loadworklog.html" class="menu-item">Load Worklog</a>
        <!-- ‚ö†Ô∏è ÎÇòÏ§ëÏóê equipment_signal2.htmlÎ°ú ÍµêÏ≤¥Ìï† Í±∞Î©¥ Ïó¨Í∏∞ ÎßÅÌÅ¨Îßå Î∞îÍøîÏ£ºÎ©¥ Îê® -->
        <a href="./equipment_signal.html" class="menu-item">Equipment</a>
        <a href="./Setupeq.html" class="menu-item">Setup EQ</a>
        <a href="./PCI.html" class="menu-item">PCI</a>
        <a href="./CHECKLIST.html" class="menu-item">Checklist</a>
        <a href="./business.html" class="menu-item">Business trip</a>
        <a href="./report.html" class="menu-item">Íµ≠ÎÇ¥ Ï∂úÏû• Î≥¥Í≥†ÏÑú</a>
        <a href="./workload.html" class="menu-item admin-only">Operating Rate</a>
        <a href="./analysis.html" class="menu-item admin-only">Predicted Workers</a>
        <a href="./update.html" class="menu-item">Update</a>
        <button id="sign-out" class="menu-item">Logout</button>
      </div>
    </div>
  </nav>
<body>
  <div class="eq2-app">
    <!-- Ï¢åÏ∏°: Í≤ÄÏÉâ / ÌïÑÌÑ∞ Ìå®ÎÑê -->
    <aside class="eq2-sidebar">
      <header class="eq2-sidebar-header">
        <h1 class="eq2-title">Equipment</h1>
      </header>

      <form id="eq-search-form" class="eq2-search-form">
        <div class="eq2-field">
          <label for="filter-eqname">EQ NAME</label>
          <input
            id="filter-eqname"
            type="text"
            placeholder="ÏÑ§ÎπÑ Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî."
            autocomplete="off"
          />
        </div>

        <div class="eq2-field">
          <label for="filter-group">GROUP</label>
          <select id="filter-group">
            <option value="">ALL</option>
            <option value="PEE1">PEE1</option>
            <option value="PEE2">PEE2</option>
            <option value="PEI1">PEI1</option>
            <!-- ÌïÑÏöîÏãú Í∑∏Î£π Ï∂îÍ∞Ä -->
          </select>
        </div>

        <div class="eq2-inline-fields">
          <div class="eq2-field">
            <label for="filter-site">SITE</label>
            <select id="filter-site">
              <option value="">ALL</option>
              <option value="PT">PT</option>
              <option value="HS">HS</option>
              <option value="IC">IC</option>
              <option value="CJ">CJ</option>
              <option value="PSKH">PSKH</option>
            </select>
          </div>
          <div class="eq2-field">
            <label for="filter-line">LINE</label>
            <select id="filter-line" disabled>
              <option value="">ALL</option>
            </select>
          </div>
        </div>

        <div class="eq2-inline-fields">
          <div class="eq2-field">
            <label for="filter-type">TYPE</label>
            <select id="filter-type">
                <option value="">ALL</option>
                <option value="SUPRA N">SUPRA N</option>
                <option value="SUPRA NM">SUPRA NM</option>
                <option value="SUPRA III">SUPRA III</option>
                <option value="SUPRA IV">SUPRA IV</option>
                <option value="SUPRA V">SUPRA V</option>    
                <option value="SUPRA Vplus">SUPRA Vplus</option>     
                <option value="SUPRA VM">SUPRA VM</option>    
                <option value="SUPRA XP">SUPRA XP</option>
                <option value="SUPRA Q">SUPRA Q</option>
                <option value="SUPRA XQ">SUPRA XQ</option>                             
                <option value="TERA21">TERA21</option>
                <option value="INTEGER IVr">INTEGER IVr</option>
                <option value="INTEGER Plus">INTEGER Plus</option>
                <option value="INTEGER XP">INTEGER XP</option>
                <option value="PRECIA">PRECIA</option>
                <option value="ECOLITE 300">ECOLITE 300</option>
                <option value="ECOLITE 400">ECOLITE 400</option>
                <option value="ECOLITE 3000">ECOLITE 3000</option>
                <option value="ECOLITE XP">ECOLITE XP</option>
                <option value="GENEVA">GENEVA</option>
                <option value="HDW">HDW</option>
            </select>
          </div>

          <div class="eq2-field">
            <label for="filter-warranty">WARRANTY</label>
            <select id="filter-warranty">
              <option value="">ALL</option>
              <option value="WI">WI</option>
              <option value="WO">WO</option>
            </select>
          </div>
        </div>

        <div class="eq2-actions">
          <button type="submit" class="eq2-btn eq2-btn-primary">SEARCH</button>
          <button type="button" id="eq-reset-btn" class="eq2-btn eq2-btn-ghost">
            RESET
          </button>
        </div>

        <hr class="eq2-divider" />

        <button type="button" id="add-equipment-btn2" class="eq2-btn eq2-btn-outline">
          + ADD EQUIPMENT
        </button>

        <div class="eq2-help">
          <p>¬∑ EQ NAME ÏùºÎ∂ÄÎßå ÏûÖÎ†•Ìï¥ÎèÑ Í≤ÄÏÉâÎê©ÎãàÎã§.</p>
          <p>¬∑ SITEÎ•º ÏÑ†ÌÉùÌïòÎ©¥ LINE ÏòµÏÖòÏù¥ ÏûêÎèôÏúºÎ°ú Î∞îÎÄùÎãàÎã§.</p>
        </div>
      </form>
    </aside>

    <!-- Ïö∞Ï∏°: Í≤∞Í≥º Î¶¨Ïä§Ìä∏ + ÏÉÅÏÑ∏ -->
    <main class="eq2-main">
      <!-- Í≤ÄÏÉâ Í≤∞Í≥º -->
      <section class="eq2-results">
        <div class="eq2-results-header">
          <div>
            <h2>Í≤ÄÏÉâ Í≤∞Í≥º</h2>
            <p class="eq2-results-subtitle">
              Ï°∞Í±¥ÏùÑ Î≥ÄÍ≤ΩÌïòÏó¨ ÏõêÌïòÎäî ÏÑ§ÎπÑÎ•º Îπ†Î•¥Í≤å Ï∞æÏùÑ Ïàò ÏûàÏäµÎãàÎã§.
            </p>
          </div>
          <div id="eq-result-count" class="eq2-result-count">
            0 Equipments
          </div>
        </div>

        <div id="eq-result-empty" class="eq2-result-empty">
          <p>Ï¢åÏ∏°ÏóêÏÑú Ï°∞Í±¥ÏùÑ ÏûÖÎ†•ÌïòÍ≥† <strong>SEARCH</strong>Î•º ÎàåÎü¨Ï£ºÏÑ∏Ïöî.</p>
        </div>

        <div id="eq-result-list" class="eq2-result-list">
          <!-- JSÎ°ú ÏÑ§ÎπÑ Î¶¨Ïä§Ìä∏ Î†åÎçîÎßÅ -->
        </div>
      </section>

      <!-- ÏÑ§ÎπÑ ÏÉÅÏÑ∏ -->
      <section class="eq2-detail" id="eq-detail">
        <div class="eq2-detail-empty">
          <p>ÏÑ§ÎπÑÎ•º ÏÑ†ÌÉùÌïòÎ©¥ ÏÉÅÏÑ∏ Ï†ïÎ≥¥ÏôÄ INFOÎ•º Ïó¨Í∏∞ÏóêÏÑú ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>
        </div>
      </section>
    </main>
  </div>

  <!-- ADD / EDIT Î™®Îã¨ -->
  <div id="add-equipment-modal2" class="eq2-modal hidden">
    <div class="eq2-modal-backdrop"></div>
    <div class="eq2-modal-content">
      <header class="eq2-modal-header">
        <h2 id="add-equipment-modal-title">Add Equipment</h2>
      </header>

      <form id="add-equipment-form2" class="eq2-modal-form">
        <div class="eq2-modal-grid">
          <div class="eq2-field">
            <label for="eq2-eqname">EQ NAME <span class="eq2-required">*</span></label>
            <input id="eq2-eqname" name="eqname" type="text" />
          </div>

          <div class="eq2-field">
            <label for="eq2-group">GROUP <span class="eq2-required">*</span></label>
            <input id="eq2-group" name="group" type="text" placeholder="Ïòà: PEE1" />
          </div>

          <div class="eq2-field">
            <label for="eq2-site-select">SITE <span class="eq2-required">*</span></label>
            <select id="eq2-site-select" name="site">
              <option value="">Select Site</option>
              <option value="PT">PT</option>
              <option value="HS">HS</option>
              <option value="IC">IC</option>
              <option value="CJ">CJ</option>
              <option value="PSKH">PSKH</option>
            </select>
          </div>

          <div class="eq2-field">
            <label for="eq2-line-select">LINE <span class="eq2-required">*</span></label>
            <select id="eq2-line-select" name="line" disabled>
              <option value="">Select Line</option>
            </select>
          </div>

          <div class="eq2-field">
            <label for="eq2-type">TYPE <span class="eq2-required">*</span></label>
            <select id="eq2-type" name="type">
                <option value="SELECT">SELECT</option>
                <option value="SUPRA N">SUPRA N</option>
                <option value="SUPRA NM">SUPRA NM</option>
                <option value="SUPRA III">SUPRA III</option>
                <option value="SUPRA IV">SUPRA IV</option>
                <option value="SUPRA V">SUPRA V</option>    
                <option value="SUPRA Vplus">SUPRA Vplus</option>     
                <option value="SUPRA VM">SUPRA VM</option>    
                <option value="SUPRA XP">SUPRA XP</option>
                <option value="SUPRA Q">SUPRA Q</option>
                <option value="SUPRA XQ">SUPRA XQ</option>                             
                <option value="TERA21">TERA21</option>
                <option value="INTEGER IVr">INTEGER IVr</option>
                <option value="INTEGER Plus">INTEGER Plus</option>
                <option value="INTEGER XP">INTEGER XP</option>
                <option value="PRECIA">PRECIA</option>
                <option value="ECOLITE 300">ECOLITE 300</option>
                <option value="ECOLITE 400">ECOLITE 400</option>
                <option value="ECOLITE 3000">ECOLITE 3000</option>
                <option value="ECOLITE XP">ECOLITE XP</option>
                <option value="GENEVA">GENEVA</option>
                <option value="HDW">HDW</option>
            </select>
          </div>

          <div class="eq2-field">
            <label for="eq2-floor">FLOOR</label>
            <input id="eq2-floor" name="floor" type="text" placeholder="Ïòà: 2F" />
          </div>

          <div class="eq2-field">
            <label for="eq2-bay">BAY</label>
            <input id="eq2-bay" name="bay" type="text" placeholder="Ïòà: BAY-12" />
          </div>

          <div class="eq2-field">
            <label for="eq2-start-date">START DATE <span class="eq2-required">*</span></label>
            <input id="eq2-start-date" name="start_date" type="date" />
          </div>

          <div class="eq2-field">
            <label for="eq2-end-date">END DATE <span class="eq2-required">*</span></label>
            <input id="eq2-end-date" name="end_date" type="date" />
          </div>

          <div class="eq2-field">
            <label for="eq2-warranty-status">WARRANTY <span class="eq2-required">*</span></label>
            <select id="eq2-warranty-status" name="warranty_status">
              <option value="">Select</option>
              <option value="WI">WI</option>
              <option value="WO">WO</option>
            </select>
          </div>
        </div>

        <div class="eq2-field eq2-field-full">
          <label for="eq2-info">INFO</label>
          <textarea
            id="eq2-info"
            name="info"
            rows="4"
            placeholder="ÏÑ§ÎπÑ ÌäπÏù¥ÏÇ¨Ìï≠ÏùÑ ÏûêÏú†Î°≠Í≤å ÏûëÏÑ±ÌïòÏÑ∏Ïöî."
          ></textarea>
        </div>

        <footer class="eq2-modal-footer">
          <button type="button" id="cancel-add-equipment-btn2" class="eq2-btn eq2-btn-ghost">
            Ï∑®ÏÜå
          </button>
          <button type="submit" id="save-equipment-btn2" class="eq2-btn eq2-btn-primary" disabled>
            Ï†ÄÏû•
          </button>
        </footer>
      </form>
    </div>
  </div>

  <!-- axios CDN -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js" defer></script>
  <script src="./js/equipment_add2.js" defer></script>
  <script src="./js/equipment_signal2.js" defer></script>
      <script>
        document.addEventListener("DOMContentLoaded", function() {
            const token = localStorage.getItem("x-access-token");
            const userRole = localStorage.getItem("user-role");

            if (!token) {
                document.querySelector(".unsigned").classList.remove("hidden");
                document.querySelector(".signed").classList.add("hidden");
            } else {
                document.querySelector(".unsigned").classList.add("hidden");
                document.querySelector(".signed").classList.remove("hidden");
            }

            if (!token || userRole !== 'admin') {
                document.querySelectorAll('.admin-only').forEach(element => {
                    element.style.display = 'none';
                });
            }

            const signOutButton = document.querySelector("#sign-out");

            if (signOutButton) {
                signOutButton.addEventListener("click", function() {
                    localStorage.removeItem("x-access-token");
                    localStorage.removeItem("user-role");
                    alert("Î°úÍ∑∏ÏïÑÏõÉ ÎêòÏóàÏäµÎãàÎã§.");
                    window.location.replace("./signin.html");
                });
            }
            const menuBtn = document.querySelector('.menu-btn');
            const menuBar = document.querySelector('.menu-bar');

            menuBtn.addEventListener('click', function() {
                menuBar.classList.toggle('open');
            });

            document.addEventListener('click', function(event) {
                if (!menuBtn.contains(event.target) && !menuBar.contains(event.target)) {
                    menuBar.classList.remove('open');
                }
            });
        });
    </script>
</body>
</html>
